<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shorts Match - åˆ¶ä½œä¾é ¼ãƒ»ç›¸è«‡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; }
        .gradient-bg  { background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 60%, #e0e7ff 100%); min-height: 100vh; }
        .gradient-btn { background: linear-gradient(135deg, #06b6d4, #3b82f6); }
        .card { background: white; border-radius: 24px; box-shadow: 0 4px 24px rgba(0,0,0,0.07); }
        .fade-in { animation: fadeIn 0.5s ease both; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
        .slide-up { animation: slideUp 0.4s ease both; }
        @keyframes slideUp { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
        .form-label { display:block; font-size:12px; font-weight:900; color:#64748b; text-transform:uppercase; letter-spacing:0.05em; margin-bottom:8px; }
        .form-input { width:100%; padding:12px 16px; border:2px solid #e2e8f0; border-radius:14px; font-size:14px; font-family:inherit; outline:none; background:#f8fafc; transition:border-color 0.2s,box-shadow 0.2s; box-sizing:border-box; }
        .form-input:focus { border-color:#06b6d4; background:white; box-shadow:0 0 0 3px rgba(6,182,212,0.12); }
        .form-select { appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%2394a3b8' d='M6 8L0 0h12z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 14px center; padding-right:40px; }
        .chip-group { display:flex; flex-wrap:wrap; gap:8px; }
        .chip input[type=radio],.chip input[type=checkbox] { display:none; }
        .chip input:checked + label { background:linear-gradient(135deg,#06b6d4,#3b82f6); color:white; border-color:transparent; box-shadow:0 2px 8px rgba(6,182,212,0.35); }
        .chip label { display:inline-block; padding:8px 16px; border-radius:20px; border:2px solid #e2e8f0; background:#f8fafc; color:#475569; font-size:13px; font-weight:700; cursor:pointer; transition:all 0.2s; user-select:none; }
        .chip label:hover { border-color:#06b6d4; color:#06b6d4; }
        .progress-bar { height:5px; background:#e2e8f0; border-radius:99px; overflow:hidden; }
        .progress-fill { height:100%; background:linear-gradient(to right,#06b6d4,#3b82f6); border-radius:99px; transition:width 0.35s ease; }
        .msg-preview { background:linear-gradient(135deg,rgba(6,182,212,0.06),rgba(59,130,246,0.06)); border:2px solid rgba(6,182,212,0.2); border-radius:18px; padding:18px 22px; }
        .success-overlay { position:fixed; inset:0; background:rgba(255,255,255,0.92); backdrop-filter:blur(8px); z-index:200; display:none; flex-direction:column; align-items:center; justify-content:center; }
        .success-overlay.show { display:flex; }
        @keyframes bounce { from { transform:translateY(0); } to { transform:translateY(-12px); } }
        .bounce { animation:bounce 0.65s ease infinite alternate; font-size:3.5rem; }
        .login-banner { background:linear-gradient(135deg,#fef3c7,#fde68a); border:2px solid #fbbf24; border-radius:16px; padding:16px 20px; display:none; }
        .login-banner.show { display:flex; align-items:center; gap:12px; }
    </style>
</head>
<body class="gradient-bg">

<div class="success-overlay" id="successOverlay">
    <div class="text-center slide-up px-6">
        <div class="bounce mb-5">ğŸ‰</div>
        <h2 class="text-3xl font-black text-slate-800 mb-2">ä¾é ¼ã‚’é€ä¿¡ã—ã¾ã—ãŸï¼</h2>
        <p class="text-slate-500 mb-1">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç·¨é›†è€…ã«å±Šãã¾ã—ãŸã€‚</p>
        <p class="text-slate-400 text-sm mb-8">ãƒãƒ£ãƒƒãƒˆç”»é¢ã‹ã‚‰ç¶šãã®ã‚„ã‚Šå–ã‚ŠãŒã§ãã¾ã™ã€‚</p>
        <div class="flex gap-3 justify-center flex-wrap">
            <a id="goToChatBtn" href="auth.html" class="gradient-btn text-white px-8 py-4 rounded-2xl font-black shadow-lg shadow-cyan-200 hover:opacity-90 transition-all">ğŸ’¬ ãƒãƒ£ãƒƒãƒˆç”»é¢ã¸</a>
            <a href="index.html" class="bg-white text-slate-500 px-8 py-4 rounded-2xl font-black border-2 border-slate-200 hover:border-slate-300 transition-all">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
        </div>
    </div>
</div>

<header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-100">
    <div class="max-w-2xl mx-auto px-5 py-4 flex items-center justify-between">
        <a href="index.html" class="flex items-center gap-2 group">
            <div class="w-8 h-8 gradient-btn rounded-lg flex items-center justify-center text-white text-sm font-black shadow group-hover:scale-110 transition-transform">â–¶</div>
            <span class="font-black text-lg text-cyan-600">Shorts Match</span>
        </a>
        <a href="javascript:history.back()" class="text-sm font-bold text-slate-500 hover:text-cyan-600 transition-colors px-3 py-1.5 rounded-lg hover:bg-cyan-50">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
    </div>
</header>

<main class="max-w-2xl mx-auto px-4 py-8 fade-in">

    <div class="card p-5 mb-5 flex items-center gap-4">
        <img id="editorAvatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="editor" class="w-14 h-14 rounded-2xl object-cover border-4 border-white shadow flex-shrink-0">
        <div class="flex-1 min-w-0">
            <p class="text-xs font-bold text-cyan-500 mb-0.5">ä¾é ¼å…ˆã®ç·¨é›†è€…</p>
            <h2 class="text-xl font-black text-slate-800 truncate" id="editorName">èª­ã¿è¾¼ã¿ä¸­...</h2>
        </div>
        <div class="w-10 h-10 gradient-btn rounded-xl flex items-center justify-center text-white text-lg shadow flex-shrink-0">âœ‰ï¸</div>
    </div>

    <div class="login-banner mb-5" id="loginBanner">
        <span class="text-xl flex-shrink-0">âš ï¸</span>
        <div class="flex-1">
            <p class="text-sm font-black text-amber-800">é€ä¿¡ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™</p>
            <p class="text-xs text-amber-700 mt-0.5">ãƒ•ã‚©ãƒ¼ãƒ ã¸ã®å…¥åŠ›ã¯ã§ãã¾ã™ãŒã€é€ä¿¡å‰ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚</p>
        </div>
        <a href="auth.html" class="flex-shrink-0 text-xs font-black text-white bg-amber-500 px-4 py-2 rounded-xl hover:bg-amber-600 transition-colors">ãƒ­ã‚°ã‚¤ãƒ³</a>
    </div>

    <div class="mb-5">
        <div class="flex justify-between mb-1.5">
            <span class="text-xs font-bold text-slate-400">å…¥åŠ›é€²æ—</span>
            <span class="text-xs font-black text-cyan-500" id="progressText">0%</span>
        </div>
        <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width:0%"></div></div>
    </div>

    <div class="card p-7 space-y-7">

        <div>
            <label class="form-label">â‘  ä¾é ¼ã‚¸ãƒ£ãƒ³ãƒ« <span class="text-red-400">*</span></label>
            <div class="chip-group">
                <span class="chip"><input type="radio" name="genre" id="g1" value="YouTubeã‚·ãƒ§ãƒ¼ãƒˆ"><label for="g1">â–¶ YouTubeã‚·ãƒ§ãƒ¼ãƒˆ</label></span>
                <span class="chip"><input type="radio" name="genre" id="g2" value="TikTok"><label for="g2">ğŸµ TikTok</label></span>
                <span class="chip"><input type="radio" name="genre" id="g3" value="Instagram Reels"><label for="g3">ğŸ“¸ Instagram Reels</label></span>
                <span class="chip"><input type="radio" name="genre" id="g4" value="åºƒå‘Šå‹•ç”»"><label for="g4">ğŸ“¢ åºƒå‘Šå‹•ç”»</label></span>
                <span class="chip"><input type="radio" name="genre" id="g5" value="åˆ‡ã‚ŠæŠœãå‹•ç”»"><label for="g5">âœ‚ï¸ åˆ‡ã‚ŠæŠœãå‹•ç”»</label></span>
                <span class="chip"><input type="radio" name="genre" id="g6" value="ãã®ä»–"><label for="g6">ğŸ¬ ãã®ä»–</label></span>
            </div>
        </div>

        <div>
            <label class="form-label" for="videoDuration">â‘¡ å‹•ç”»ã®å®Œæˆäºˆå®šæ™‚é–“ <span class="text-red-400">*</span></label>
            <select id="videoDuration" class="form-input form-select">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option>ã€œ30ç§’</option>
                <option>30ç§’ã€œ1åˆ†</option>
                <option>1åˆ†ã€œ3åˆ†</option>
                <option>3åˆ†ã€œ5åˆ†</option>
                <option>5åˆ†ä»¥ä¸Š</option>
                <option>æœªå®šãƒ»ç›¸è«‡ã—ãŸã„</option>
            </select>
        </div>

        <div>
            <label class="form-label">â‘¢ ç´ æãƒ‡ãƒ¼ã‚¿ã®æœ‰ç„¡ <span class="text-red-400">*</span></label>
            <div class="chip-group">
                <span class="chip"><input type="radio" name="hasAssets" id="a1" value="ã‚ã‚Šï¼ˆã™ã¹ã¦æƒã£ã¦ã„ã‚‹ï¼‰"><label for="a1">âœ… ã‚ã‚Šï¼ˆã™ã¹ã¦æƒã£ã¦ã„ã‚‹ï¼‰</label></span>
                <span class="chip"><input type="radio" name="hasAssets" id="a2" value="ä¸€éƒ¨ã‚ã‚Š"><label for="a2">ğŸ“ ä¸€éƒ¨ã‚ã‚Š</label></span>
                <span class="chip"><input type="radio" name="hasAssets" id="a3" value="ãªã—ï¼ˆæ’®å½±ã‹ã‚‰ä¾é ¼ï¼‰"><label for="a3">ğŸ¥ ãªã—ï¼ˆæ’®å½±ã‹ã‚‰ä¾é ¼ï¼‰</label></span>
                <span class="chip"><input type="radio" name="hasAssets" id="a4" value="æœªå®š"><label for="a4">ğŸ¤” æœªå®š</label></span>
            </div>
        </div>

        <div>
            <label class="form-label" for="deadline">â‘£ å¸Œæœ›ç´æœŸ <span class="text-red-400">*</span></label>
            <select id="deadline" class="form-input form-select">
                <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                <option>3æ—¥ä»¥å†…ï¼ˆæ€¥ãï¼‰</option>
                <option>1é€±é–“ä»¥å†…</option>
                <option>2é€±é–“ä»¥å†…</option>
                <option>1ãƒ¶æœˆä»¥å†…</option>
                <option>ç›¸è«‡ã—ãŸã„</option>
            </select>
        </div>

        <div>
            <label class="form-label">â‘¤ äºˆç®—æ„Ÿ <span class="text-red-400">*</span></label>
            <div class="chip-group">
                <span class="chip"><input type="radio" name="budget" id="b1" value="ã€œÂ¥5,000"><label for="b1">ã€œÂ¥5,000</label></span>
                <span class="chip"><input type="radio" name="budget" id="b2" value="Â¥5,000ã€œÂ¥10,000"><label for="b2">Â¥5,000ã€œÂ¥10,000</label></span>
                <span class="chip"><input type="radio" name="budget" id="b3" value="Â¥10,000ã€œÂ¥30,000"><label for="b3">Â¥10,000ã€œÂ¥30,000</label></span>
                <span class="chip"><input type="radio" name="budget" id="b4" value="Â¥30,000ä»¥ä¸Š"><label for="b4">Â¥30,000ä»¥ä¸Š</label></span>
                <span class="chip"><input type="radio" name="budget" id="b5" value="è¦ç›¸è«‡"><label for="b5">è¦ç›¸è«‡</label></span>
            </div>
        </div>

        <div>
            <label class="form-label" for="referenceUrl">â‘¥ å‚è€ƒURLï¼ˆä»»æ„ï¼‰</label>
            <input type="url" id="referenceUrl" class="form-input" placeholder="https://youtube.com/...">
            <p class="text-xs text-slate-400 mt-1.5 px-1">ã‚¤ãƒ¡ãƒ¼ã‚¸ã«è¿‘ã„å‹•ç”»ã‚„å‚è€ƒã«ã—ã¦ã»ã—ã„URLãŒã‚ã‚Œã°</p>
        </div>

        <div>
            <label class="form-label" for="details">â‘¦ è©³ç´°ãªä¾é ¼å†…å®¹ <span class="text-red-400">*</span></label>
            <textarea id="details" rows="5" class="form-input" style="resize:vertical;min-height:120px;"
                placeholder="ãƒ»ã©ã‚“ãªå‹•ç”»ã«ã—ãŸã„ã‹&#10;ãƒ»ã‚¿ãƒ¼ã‚²ãƒƒãƒˆè¦–è´è€…&#10;ãƒ»å¸Œæœ›ã™ã‚‹ãƒ†ã‚¤ã‚¹ãƒˆã‚„é›°å›²æ°—&#10;ãªã©ã€ã§ãã‚‹ã ã‘è©³ã—ãæ•™ãˆã¦ãã ã•ã„"></textarea>
        </div>

        <div class="msg-preview" id="msgPreview" style="display:none;">
            <p class="text-xs font-black text-cyan-600 mb-3">ğŸ“¨ é€ä¿¡ã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰</p>
            <p class="text-slate-700 text-sm leading-relaxed whitespace-pre-wrap" id="msgPreviewText"></p>
        </div>

        <div id="formError" style="display:none;" class="text-sm font-bold px-4 py-3 rounded-xl bg-red-50 text-red-500 border border-red-200"></div>

        <button onclick="submitRequest()" id="submitBtn"
            class="w-full gradient-btn text-white py-4 rounded-2xl font-black text-base shadow-lg shadow-cyan-200 hover:opacity-90 transition-all">
            âœ‰ï¸ ä¾é ¼ã‚’é€ä¿¡ã™ã‚‹
        </button>
        <p class="text-center text-xs text-slate-400">é€ä¿¡å¾Œã€ãƒãƒ£ãƒƒãƒˆç”»é¢ã§è©³ç´°ã®ã‚„ã‚Šå–ã‚ŠãŒã§ãã¾ã™</p>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
<script>
    // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆSupabaseä¸è¦ã§å³æ™‚åæ˜ ï¼‰
    const params       = new URLSearchParams(location.search);
    const editorId     = params.get('editor_id')     || '';
    const editorName   = params.get('editor_name')   || 'ç·¨é›†è€…';
    const editorAvatar = params.get('editor_avatar') || '';

    document.getElementById('editorName').textContent = editorName || 'ç·¨é›†è€…';
    document.getElementById('editorAvatar').src = editorAvatar
        || ('https://api.dicebear.com/7.x/avataaars/svg?seed=' + encodeURIComponent(editorName || 'default'));

    // Supabase & ã‚»ãƒƒã‚·ãƒ§ãƒ³
    let sb = null;
    let currentSession = null;

    async function waitForSupabase() {
        for (let i = 0; i < 50; i++) {
            if (window.supabase) break;
            await new Promise(r => setTimeout(r, 100));
        }
        if (!window.supabase) return;
        sb = window.supabase.createClient(
            'https://dwmgwdhunvanrsautvtj.supabase.co',
            'sb_publishable_GzaEGCWBP7y0za2UVPiJNA_N3pdlgJ0'
        );
        const { data } = await sb.auth.getSession();
        currentSession = data.session;
        if (!currentSession) {
            document.getElementById('loginBanner').classList.add('show');
        }
    }

    // ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒªã‚¹ãƒŠãƒ¼
    document.addEventListener('DOMContentLoaded', function() {
        waitForSupabase();
        ['g1','g2','g3','g4','g5','g6'].forEach(function(id) {
            document.getElementById(id).addEventListener('change', refresh);
        });
        ['a1','a2','a3','a4'].forEach(function(id) {
            document.getElementById(id).addEventListener('change', refresh);
        });
        ['b1','b2','b3','b4','b5'].forEach(function(id) {
            document.getElementById(id).addEventListener('change', refresh);
        });
        ['videoDuration','deadline','referenceUrl','details'].forEach(function(id) {
            document.getElementById(id).addEventListener('input', refresh);
            document.getElementById(id).addEventListener('change', refresh);
        });
    });

    function refresh() { updateProgress(); updatePreview(); }

    function updateProgress() {
        var checks = [
            !!document.querySelector('input[name="genre"]:checked'),
            !!document.getElementById('videoDuration').value,
            !!document.querySelector('input[name="hasAssets"]:checked'),
            !!document.getElementById('deadline').value,
            !!document.querySelector('input[name="budget"]:checked'),
            document.getElementById('details').value.trim().length >= 10
        ];
        var pct = Math.round(checks.filter(Boolean).length / checks.length * 100);
        document.getElementById('progressFill').style.width = pct + '%';
        document.getElementById('progressText').textContent = pct + '%';
    }

    function buildMessage() {
        var genre    = (document.querySelector('input[name="genre"]:checked') || {}).value    || '';
        var duration = document.getElementById('videoDuration').value;
        var assets   = (document.querySelector('input[name="hasAssets"]:checked') || {}).value || '';
        var deadline = document.getElementById('deadline').value;
        var budget   = (document.querySelector('input[name="budget"]:checked') || {}).value   || '';
        var refUrl   = document.getElementById('referenceUrl').value.trim();
        var details  = document.getElementById('details').value.trim();
        var lines = [
            'ã€ä¾é ¼ç”³ã—è¾¼ã¿ã€‘' + editorName + ' ã•ã‚“ã¸',
            '',
            'ğŸ“Œ ä¾é ¼ã‚¸ãƒ£ãƒ³ãƒ«: ' + (genre    || 'æœªé¸æŠ'),
            'â± å®Œæˆäºˆå®šæ™‚é–“: ' + (duration  || 'æœªé¸æŠ'),
            'ğŸ“ ç´ æãƒ‡ãƒ¼ã‚¿:   ' + (assets   || 'æœªé¸æŠ'),
            'ğŸ“… å¸Œæœ›ç´æœŸ:     ' + (deadline || 'æœªé¸æŠ'),
            'ğŸ’° äºˆç®—æ„Ÿ:       ' + (budget   || 'æœªé¸æŠ')
        ];
        if (refUrl) lines.push('ğŸ”— å‚è€ƒURL: ' + refUrl);
        lines.push('', 'ğŸ“ è©³ç´°:\n' + (details || 'ï¼ˆæœªå…¥åŠ›ï¼‰'));
        return lines.join('\n');
    }

    function updatePreview() {
        var hasAny = document.querySelector('input[name="genre"]:checked')
                  || document.getElementById('details').value.trim();
        var preview = document.getElementById('msgPreview');
        if (hasAny) {
            document.getElementById('msgPreviewText').textContent = buildMessage();
            preview.style.display = 'block';
        } else {
            preview.style.display = 'none';
        }
    }

    async function submitRequest() {
        var errEl = document.getElementById('formError');
        errEl.style.display = 'none';

        var genre    = (document.querySelector('input[name="genre"]:checked') || {}).value;
        var duration = document.getElementById('videoDuration').value;
        var assets   = (document.querySelector('input[name="hasAssets"]:checked') || {}).value;
        var deadline = document.getElementById('deadline').value;
        var budget   = (document.querySelector('input[name="budget"]:checked') || {}).value;
        var details  = document.getElementById('details').value.trim();

        if (!genre)               return showError('ä¾é ¼ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
        if (!duration)            return showError('å‹•ç”»ã®å®Œæˆäºˆå®šæ™‚é–“ã‚’é¸æŠã—ã¦ãã ã•ã„');
        if (!assets)              return showError('ç´ æãƒ‡ãƒ¼ã‚¿ã®æœ‰ç„¡ã‚’é¸æŠã—ã¦ãã ã•ã„');
        if (!deadline)            return showError('å¸Œæœ›ç´æœŸã‚’é¸æŠã—ã¦ãã ã•ã„');
        if (!budget)              return showError('äºˆç®—æ„Ÿã‚’é¸æŠã—ã¦ãã ã•ã„');
        if (details.length < 10) return showError('è©³ç´°ãªä¾é ¼å†…å®¹ã‚’ã‚‚ã†å°‘ã—è©³ã—ãå…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆ10æ–‡å­—ä»¥ä¸Šï¼‰');

        // SupabaseåˆæœŸåŒ–å¾…ã¡
        if (!sb) await waitForSupabase();
        if (!sb) return showError('é€šä¿¡ã®åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');

        // ã‚»ãƒƒã‚·ãƒ§ãƒ³å†ç¢ºèª
        if (!currentSession) {
            var res = await sb.auth.getSession();
            currentSession = res.data.session;
        }
        if (!currentSession) return showError('é€ä¿¡ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚ç”»é¢ä¸Šéƒ¨ã®ãƒãƒŠãƒ¼ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚');
        if (!editorId)        return showError('ç·¨é›†è€…IDãŒå–å¾—ã§ãã¾ã›ã‚“ã€‚ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã‹ã‚‰ã‚„ã‚Šç›´ã—ã¦ãã ã•ã„ã€‚');

        var btn = document.getElementById('submitBtn');
        btn.disabled = true;
        btn.textContent = 'â³ é€ä¿¡ä¸­...';

        try {
            var result = await sb.from('messages').insert({
                sender_id:   currentSession.user.id,
                receiver_id: editorId,
                content:     buildMessage()
            });
            if (result.error) throw result.error;

            document.getElementById('goToChatBtn').href = 'auth.html?open_chat=' + editorId;
            document.getElementById('successOverlay').classList.add('show');
        } catch(err) {
            console.error(err);
            showError('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err.message);
            btn.disabled = false;
            btn.textContent = 'âœ‰ï¸ ä¾é ¼ã‚’é€ä¿¡ã™ã‚‹';
        }
    }

    function showError(msg) {
        var el = document.getElementById('formError');
        el.textContent = 'âš ï¸ ' + msg;
        el.style.display = 'block';
        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
</script>
</body>
</html>
